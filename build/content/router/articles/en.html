<h1>Router</h1>

<h2>How to install?</h2>

{{ install }}

<h2>Example</h2>

{{ match-routes }}

<h2>Description</h2>

<p>
  A set of utilities for organizing routing.
</p>

<h2>route(matchers|path, action, props = {}, childs = [])</h2>

<p>
  <b>matchers|path</b> - an array consisting of lines of paths and coincidence objects | or one line of the path
  <ul>
    <li>
      <i>path</i> - string of path
      <br>Examples:
      <ul>
        <li>'*' - any value</li>
        <li>'/:id' - named value will be passed to request.params as { id: [value] }</li>
        <li>'/segment' - searches for an exact segment entry </li>
      </ul>
    </li>
    <li>
      <i>matcher</i> - object of matching
      <ul>
        <li>
          <i>key</i> - name of match segment
        </li>
        <li>
          <i>match</i> - callback function, takes the value as an argument <i>key</i>.
          Must return true if it matches | false in case of no match.
        </li>
      </ul>

      Example of the match object:

      {{ matcher }}

    </li>
  </ul>
  <b>action</b> - function handler or string in the format 'Controller#action'
  <br>
  For example, for the PostsController controller and the show method, the path string will be 'Posts#show'
  <br>
  <b>props</b> - object of props
  <br>
  <b>childs</b> - array of nested routes
  <br>
</p>

<p>Returns the route object:</p>

<ul>
  <li>
    <b>segments</b> - array of path string segments
  </li>
  <li>
    <b>path</b> - string of path
  </li>
  <li>
    <b>action</b> - function of handle request
  </li>
  <li>
    <b>props</b> - object of request  props
  </li>
  <li>
    <b>childs</b> - array of nested routes
  </li>
</ul>


<h2>initRoutes({ routes, controllers })</h2>
  <ul>
    <li>Assigns routes to the method in the appropriate controller </li>
    <li>Indexes routes</li>
    <li>Aligns all routes to one level of nesting</li>
    <li>Prepares segments for correct search</li>
  </ul>
<p>

</p>

<p>
  <b>routes</b> - array of routes
  <br>
  <b>controller</b> - object of controllers
  <br>
</p>

<p>Returns an array of routes.</p>


<h2>matchRoutes(routes, path)</h2>

<p>
  Finds the first received route based on the specified path and adds a request object to it.
</p>

<p>
  <b>routes</b> - array of routes
  <br>
  <b>path</b> - path string
  <br>
</p>

<p>
  Return object <b>routeInfo</b>:
  <ul>
    <li>
      <b>path</b> - path string
    </li>
    <li>
      <b>segments</b> - array of routes
    </li>
    <li>
      <b>action</b> - route handler function
    </li>
    <li>
      <b>props</b> - route object properties
    </li>
    <li>
      <b>childs</b> - array of nested routes
    </li>
    <li>
      <b>request</b> - request object
      <ul>
        <li>
          <b>path</b> - path string
        </li>
        <li>
          <b>segments</b> - array of routes
        </li>
        <li>
          <b>params</b> - route object properties
        </li>
      </ul>
    </li>
  </ul>
</p>
